{"version":3,"sources":["components/Pages/ForceLayout/styles.module.scss","components/Pages/ForceLayout/ForceLayout.js"],"names":["module","exports","mainSvg","node","link","ForceLayout","_React$Component","_getPrototypeOf2","_this","Object","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","draw","data","props","nodes","links","svg","d3","containerRef","append","classed","styles","attr","simulation","force","strength","width","height","on","d","source","x","y","target","style","name","selectAll","enter","startsWith","active","alphaTarget","restart","fx","fy","drag","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","ref","i","React","Component","defaultProps","connect","state","ownProps"],"mappings":"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","file":"static/js/7.b454d3cc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainSvg\":\"styles_mainSvg__1_UOV\",\"node\":\"styles_node__2SkaC\",\"link\":\"styles_link__1sr78\"};","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport styles from './styles.module.scss';\n\nconst graphData = {\n    nodes: [{ name: 'A1' }, { name: 'A2' }, { name: 'A3' }, { name: 'B1' }, { name: 'B2' }, { name: 'B3' }],\n    links: [\n        {\n            source: 0,\n            target: 1,\n            value: 1,\n        },\n        {\n            source: 1,\n            target: 2,\n            value: 1,\n        },\n        {\n            source: 2,\n            target: 0,\n            value: 1,\n        },\n\n        {\n            source: 3,\n            target: 4,\n            value: 1,\n        },\n        {\n            source: 4,\n            target: 5,\n            value: 1,\n        },\n        {\n            source: 5,\n            target: 3,\n            value: 1,\n        },\n\n        {\n            source: 5,\n            target: 0,\n            value: 1,\n        },\n    ],\n};\n\nexport class ForceLayout extends React.Component {\n    static propTypes = {\n        width: PropTypes.number,\n        height: PropTypes.number,\n        data: PropTypes.any,\n    };\n\n    static defaultProps = {\n        width: 500,\n        height: 500,\n        data: graphData,\n    };\n\n    draw = () => {\n        const { data } = this.props;\n        const { nodes, links } = data;\n\n        const drag = simulation => {\n            function dragstarted(d) {\n                if (!d3.event.active) {\n                    simulation.alphaTarget(0.5).restart();\n                }\n                d.fx = d.x;\n                d.fy = d.y;\n            }\n\n            function dragged(d) {\n                d.fx = d3.event.x;\n                d.fy = d3.event.y;\n            }\n\n            function dragended(d) {\n                if (!d3.event.active) {\n                    simulation.alphaTarget(0.5);\n                }\n                d.fx = null;\n                d.fy = null;\n            }\n\n            return d3\n                .drag()\n                .on('start', dragstarted)\n                .on('drag', dragged)\n                .on('end', dragended);\n        };\n\n        const width = 800;\n        const height = 600;\n        const svg = d3\n            .select(this.containerRef)\n            .append('svg')\n            .classed(styles.mainSvg, true)\n            .attr('width', width)\n            .attr('height', height);\n\n        const simulation = d3.forceSimulation(nodes);\n        simulation.force('link', d3.forceLink(links));\n        simulation.force('charge', d3.forceManyBody().strength(-1000));\n        simulation.force('center', d3.forceCenter(width / 2, height / 2));\n\n        simulation.on('tick', () => {\n            link.attr('x1', d => d.source.x)\n                .attr('y1', d => d.source.y)\n                .attr('x2', d => d.target.x)\n                .attr('y2', d => d.target.y)\n                .style('stroke', d => {\n                    if (d.source.name === 'B3' && d.target.name === 'A1') {\n                        return '#d9822b';\n                    }\n                    return undefined;\n                });\n\n            node.attr('cx', d => d.x).attr('cy', d => d.y);\n        });\n\n        const link = svg\n            .selectAll(`.${styles.link}`)\n            .data(links)\n            .enter()\n            .append('line')\n            .attr('class', styles.link);\n\n        const node = svg\n            .selectAll(`.${styles.node}`)\n            .data(nodes)\n            .enter()\n            .append('circle')\n            .attr('class', styles.node)\n            .attr('fill', d => (d.name.startsWith('A') ? '#2b95d6' : '#f5498b'))\n            .attr('r', 8)\n            .call(drag(simulation));\n    };\n\n    componentDidMount() {\n        this.draw();\n    }\n\n    render() {\n        return (\n            <div\n                ref={i => {\n                    this.containerRef = i;\n                }}\n            />\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {};\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(ForceLayout);\n"],"sourceRoot":""}