{"version":3,"sources":["components/Pages/Tables/styles.module.scss","components/Pages/Tables/Tables.js"],"names":["module","exports","table","data","rn","row","dn","length","push","Math","floor","random","makeTable","container","options","activeColumn","activeRow","opts","Object","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","header","tableData","slice","d3","append","attr","className","on","_","idx","undefined","redrawTrs","redrawTds","selectAll","enter","text","d","tableDataSelection","select","transition","duration","style","i","chroma","alpha","css","call","selection","Tables","_React$Component","_getPrototypeOf2","_this","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","args","Array","_key","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","concat","draw","containerRef","styles","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_travis_build_avin_d3_sandbox_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_this2","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","ref","React","Component","connect","state","ownProps"],"mappings":"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","file":"static/js/9.4c448dc6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"styles_table__2mE14\"};","/* eslint-disable indent */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as d3 from 'd3';\nimport chroma from 'chroma-js';\nimport styles from './styles.module.scss';\n\nconst data = [['T1', 'T2', 'T3', 'T4']];\nfor (let rn = 0; rn < 20; rn += 1) {\n    const row = [];\n    for (let dn = 0; dn < data[0].length; dn += 1) {\n        row.push(Math.floor(Math.random() * 100));\n    }\n    data.push(row);\n}\n\nconst makeTable = (data, container, options) => {\n    const opts = { ...options };\n\n    const header = data[0];\n\n    let activeColumn;\n    let activeRow;\n\n    const tableData = data.slice(1);\n\n    const table = d3\n        .select(container)\n        .append('table')\n        .attr('class', opts.className);\n\n    table.on('mouseleave', (_, idx) => {\n        activeColumn = undefined;\n        activeRow = undefined;\n        redrawTrs();\n        redrawTds();\n    });\n\n    table\n        .append('thead')\n        .append('tr')\n        .selectAll('th')\n        .data(header)\n        .enter()\n        .append('th')\n        .text(d => d);\n\n    const tableDataSelection = () =>\n        table\n            .select('tbody')\n            .selectAll('tr')\n            .data(tableData);\n\n    const redrawTds = () => {\n        tableDataSelection()\n            .selectAll('td')\n            .data(d => d)\n            .transition()\n            .duration(100)\n            .style('background-color', (d, i) =>\n                i === activeColumn\n                    ? chroma('#48aff0')\n                          .alpha(0.5)\n                          .css()\n                    : undefined,\n            );\n    };\n\n    const redrawTrs = () => {\n        tableDataSelection()\n            .transition()\n            .duration(100)\n            .style('background-color', (d, i) =>\n                i === activeRow\n                    ? chroma('#ffb366')\n                          .alpha(0.5)\n                          .css()\n                    : undefined,\n            );\n    };\n\n    const processTds = selection => selection\n            .append('td')\n            .style('font-weight', (d, i) => (i === 0 ? 'bold' : undefined))\n            .text(d => d)\n            .on('mouseover', (_, idx) => {\n                activeColumn = idx;\n                redrawTds();\n            });\n\n    table\n        .append('tbody')\n        .selectAll('tr')\n        .data(tableData)\n        .enter()\n        .append('tr')\n        .style('background-color', (d, i) => (i % 2 ? '#ebf1f5' : '#fff'))\n        .on('mouseover', (_, idx) => {\n            activeRow = idx;\n            redrawTrs();\n        })\n        .selectAll('td')\n        .data(d => d)\n        .enter()\n        .call(processTds);\n};\n\nexport class Tables extends React.Component {\n    draw = () => {\n        makeTable(data, this.containerRef, {\n            className: styles.table,\n        });\n    };\n\n    componentDidMount() {\n        this.draw();\n    }\n\n    render() {\n        return (\n            <div\n                ref={i => {\n                    this.containerRef = i;\n                }}\n            />\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {};\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(Tables);\n"],"sourceRoot":""}